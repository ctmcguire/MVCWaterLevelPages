<!doctype html>
<html>
	<head>
		<title>
			Level and Flow Data
		</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"/>
		<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.2.0/dist/MarkerCluster.css"/>
		<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.2.0/dist/MarkerCluster.Default.css"/>
		<link rel="stylesheet" href="https://unpkg.com/leaflet.defaultextent@0.0.2/dist/leaflet.defaultextent.css"/>
		<!--link rel="stylesheet" href="https://unpkg.com/leaflet-html-legend@0.3.0/src/L.Control.HtmlLegend.css"/-->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>

		<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
		<!-- Load Esri Leaflet from CDN -->
		<script src="https://unpkg.com/esri-leaflet@2.1.2/dist/esri-leaflet.js"></script>
		<script src="https://unpkg.com/leaflet.markercluster@1.2.0/dist/leaflet.markercluster.js"></script>
		<script src="https://unpkg.com/esri-leaflet-cluster@2.0.0/dist/esri-leaflet-cluster.js"></script>
		<script src="https://unpkg.com/leaflet.defaultextent@0.0.2/dist/leaflet.defaultextent.js"></script>
		<script src="https://unpkg.com/leaflet-html-legend@0.3.0/dist/L.Control.HtmlLegend.js"></script>

		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<$wp-themes/><!-- Wordpress Style Sheets -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<script type="text/javascript" src="https://code.highcharts.com/stock/5.0.12/highstock.js"></script>
		<script type="text/javascript" src="https://code.highcharts.com/stock/5.0.12/highcharts-more.js"></script>
		<script type="text/javascript" src="https://code.highcharts.com/stock/modules/exporting.js"></script>

		<script type="text/javascript" src="mvc-highstock.js"></script>

		<link rel="stylesheet" href="mvc-highstock.css"/>
		<link rel="stylesheet" href="../watershed-conditions-message/watershed-conditions-message.css"/>
		<link rel="stylesheet" href="water-levels.css"/>
	</head>
	<body class="hazard-on">
		<$wp-header/>
		<$wp-content>
			<div id="mvca-map"></div>
			<div id="graph-modal" class="modal fade" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">
								&times;
							</button>
							<h4 class="modal-title">
								<span id="gauge-name">
									| Graph Data
								</span>
							</h4>
							<button class="mvc-open-other" data-toggle="modal" data-target="#table-modal" data-dismiss="modal">
								Table View
							</button>
						</div>
						<div class="modal-body">
							<div id="chart-content" >
								<h3>
									Now Loading...
								</h3>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="" data-dismiss="modal">
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
			<div id="table-modal" class="modal fade" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">
								&times;
							</button>
							<h4 class="modal-title">
								<span id="gauge-name"></span>
								| Table Data
							</h4>
							<button class="mvc-open-other" data-toggle="modal" data-target="#graph-modal" data-dismiss="modal">
								Chart View
							</button>
						</div>
						<div class="modal-body">
							<div class="mvc-table-range-container">
								View Data
								<div id="mvc-from" class="mvc-range-selector">
									From 
								</div>
								<div class="mvc-range-selector mvc-table">
									<input type="text" name="min" class="mvc-range-selector mvc-table" value="" data-prev="" pattern="\d{3}\d+-(0[1-9]|1[0-2])-([0][1-9]|[1-2][0-9]|3[0-1])"/>
									<text class="pseudo-input">
										<span>
											
										</span>
									</text>
								</div>
								<div id="mvc-to" class="mvc-range-selector">
									To 
								</div>
								<div class="mvc-range-selector">
									<input type="text" name="max" class="mvc-range-selector mvc-table" value="" data-prev="" pattern="\d{3}\d+-(0[1-9]|1[0-2])-([0][1-9]|[1-2][0-9]|3[0-1])"/>
									<text class="pseudo-input">
										<span>
											
										</span>
									</text>
								</div>
							</div>
							<div id="table-content">
								<h3>
									Now Loading...
								</h3>
							</div>
						</div>
						<div class="modal-footer">
							Download Data 
							<div id="mvc-from" class="mvc-range-selector">
								From: 
							</div>
							<div class="mvc-range-selector">
								<input type="text" name="min" class="mvc-range-selector" value="" data-prev="" pattern="\d{3}\d+-(0[1-9]|1[0-2])-([0][1-9]|[1-2][0-9]|3[0-1])"/>
								<text class="pseudo-input">
									<span>
										
									</span>
								</text>
							</div>
							<div id="mvc-to" class="mvc-range-selector">
								To: 
							</div>
							<div class="mvc-range-selector">
								<input type="text" name="max" class="mvc-range-selector" value="" data-prev="" pattern="\d{3}\d+-(0[1-9]|1[0-2])-([0][1-9]|[1-2][0-9]|3[0-1])"/>
								<text class="pseudo-input">
									<span>
										
									</span>
								</text>
							</div>
							<button type="button" class="download" data-mvc-target="#table-modal .modal-footer input.mvc-range-selector">
								&nbsp; Download CSV
							</button>
							<button type="button" class="" data-dismiss="modal">
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
			<div id="conditions-modal" class="modal fade" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">
								&times;
							</button>
							<h4 class="modal-title">
								<span class="mvc-cond-title"></span>
							</h4>
						</div>
						<div class="modal-body">
							<div class="mvc-cond-img"></div><!--div to display the image for the current conditions-->
							<div class="mvc-cond-content"></div><!--div to receive the text body of the message-->
						</div>
						<div class="modal-footer">
							<button type="button" class="" data-dismiss="modal">
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
			<div id="disclaimer-modal" class="modal fade" data-backdrop="static" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title">
								Disclaimer: Provisional Data
							</h4>
						</div>
						<div class="modal-body">
							<div>
								<p>
									<em>
										The data contained within this database has not been formally reviewed or edited and may be subject to change.
									</em>
								</p>
								<p>
									<em>
										Publication or reproduction of the data contained within this website either wholly or in part without the
										expressed written consent of the Mississippi Valley Conservation is prohibited.
									</em>
								</p>
								<p>
									<em>
										Anyone using the data contained within this website is cautioned to carefully consider the provisional nature of
										this information and should not use it for making decisions that concern personal or public safety or the conduct
										of business that involves substantial monetary or operational consequences.
									</em>
								</p>
								<p>
									<em>
										Mississippi Valley Conservation and its employees, while providing this information in good faith, accepts no
										responsibility for any loss, damage, injury, or loss in value to any person, property, service or otherwise,
										resulting from its use.
									</em>
								</p>
								<p>
									For the official
									<a href="https://ec.gc.ca/rhc-wsc/default.asp?lang=En&n=9018B5EC-1" target="_blank">
										HYDAT
									</a>
									record of stream flows please contact:
									<br/>
									<span class="contacts">
										Environment Canada - Data Control and Client Services
									</span>
									<br/>
									<span class="contacts">
										<a href="mailto:EC.RHC-ON-WSC-ON.EC@CANADA.CA">
											Email
										</a>
									</span>
									<br/>
									<span class="contacts">
										905-319-6940
									</span>
								</p>
								<p>
									Or visit the
									<a href="https://wateroffice.ec.gc.ca/index_e.html" target="_blank">
										Water Survey of Canada Level and Flow Data
									</a>
									site.
								</p>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="" data-dismiss="modal">
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
			<input type="button" id="disclaimer-button" class="mvc-button-automatic" data-toggle="modal" data-target="#disclaimer-modal" hidden=""/>
			<div id="range-alert-modal" class="modal fade mvc-notice" data-backdrop="static" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title">
								NOTICE:
							</h4>
						</div>
						<div class="modal-body">
							<div>
								<p>
									In order to conserve webpage performance, the largest range the online table will display is a full year.  
									To view a larger range of data, please download the data as a csv using the download button at the bottom of the table window.  
								</p>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="" data-dismiss="modal">
								Close
							</button>
						</div>
					</div>
				</div>
			</div>
			<input type="button" id="range-alert-button" class="mvc-button-automatic" data-toggle="modal" data-target="#range-alert-modal.mvc-notice" hidden=""/>
		</$wp-content>
		<$wp-footer/>
		<script>
			function loadTable() {};
			function loadGraph() {};
			init('table-content', 'chart-content');
		</script>
		<script src="water-levels.js"></script>
	</body>
</html>